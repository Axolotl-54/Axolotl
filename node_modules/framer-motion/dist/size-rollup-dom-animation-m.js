import*as t from"react";import n,{createContext as e,useContext as r,useLayoutEffect as o,useEffect as a,useRef as s,useCallback as i,useMemo as u,forwardRef as c,createElement as l}from"react";import{i as d,P as m,M as f,a as p,b as y,c as g,f as v,u as h,g as S,S as E,L as w,d as C,e as V,h as A,j as b,k as M,r as P,l as T,m as j,n as x,s as D,o as L,p as B}from"./size-rollup-dom-max-assets.js";const F=e({});const I=d?o:a,O=e({strict:!1});function k(t,n,e,o){const i=r(F).visualElement,u=r(O),c=r(m),l=r(f).reducedMotion,d=s();o=o||u.renderer,!d.current&&o&&(d.current=o(t,{visualState:n,parent:i,props:e,presenceId:c?c.id:void 0,blockInitialAnimation:!!c&&!1===c.initial,reducedMotionConfig:l}));const p=d.current;return I(()=>{p&&p.render()}),a(()=>{p&&p.animationState&&p.animationState.animateChanges()}),I(()=>()=>p&&p.notify("Unmount"),[]),p}function H(t){const{initial:n,animate:e}=function(t,n){if(y(t)){const{initial:n,animate:e}=t;return{initial:!1===n||g(n)?n:void 0,animate:g(e)?e:void 0}}return!1!==t.inherit?n:{}}(t,r(F));return u(()=>({initial:n,animate:e}),[R(n),R(e)])}function R(t){return Array.isArray(t)?t.join(" "):t}let U=1;class N extends n.Component{getSnapshotBeforeUpdate(){const{visualElement:t,props:n}=this.props;return t&&t.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const K=Symbol.for("motionComponentSymbol");function W({preloadedFeatures:n,createVisualElement:e,projectionNodeConstructor:o,useRender:a,useVisualState:s,Component:u}){n&&function(t){for(const n in t)"projectionNodeConstructor"===n?v.projectionNodeConstructor=t[n]:v[n].Component=t[n]}(n);const l=c((function(c,l){const m={...r(f),...c,layoutId:_(c)},{isStatic:y}=m;let g=null;const w=H(c),C=y?void 0:h(()=>{if(S.hasEverUpdated)return U++}),V=s(c,y);if(!y&&d){w.visualElement=k(u,V,m,e);const t=r(O).strict,a=r(E);w.visualElement&&(g=w.visualElement.loadFeatures(m,t,n,C,o||v.projectionNodeConstructor,a))}return t.createElement(N,{visualElement:w.visualElement,props:m},g,t.createElement(F.Provider,{value:w},a(u,c,C,function(t,n,e){return i(r=>{r&&t.mount&&t.mount(r),n&&(r?n.mount(r):n.unmount()),e&&("function"==typeof e?e(r):p(e)&&(e.current=r))},[n])}(V,w.visualElement,l),V,y,w.visualElement)))}));return l[K]=u,l}function _({layoutId:t}){const n=r(w).id;return n&&void 0!==t?n+"-"+t:t}const q=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function z(t,n,e){for(const r in n)C(n[r])||V(r,e)||(t[r]=n[r])}function X(t,n,e){const r={};return z(r,t.style||{},t),Object.assign(r,function({transformTemplate:t},n,e){return u(()=>{const r={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};return A(r,n,{enableHardwareAcceleration:!e},t),Object.assign({},r.vars,r.style)},[n])}(t,n,e)),t.transformValues?t.transformValues(r):r}function Y(t,n,e){const r={},o=X(t,n,e);return t.drag&&!1!==t.dragListener&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===t.drag?"none":"pan-"+("x"===t.drag?"y":"x")),r.style=o,r}const G=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll","whileInView","onViewportEnter","onViewportLeave","viewport","whileTap","onTap","onTapStart","onTapCancel","animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView","onPan","onPanStart","onPanSessionStart","onPanEnd"]);function J(t){return G.has(t)}let Q=t=>!J(t);try{(Z=require("@emotion/is-prop-valid").default)&&(Q=t=>t.startsWith("on")?!J(t):Z(t))}catch(t){}var Z;const $=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}});function tt(t,n){const e=u(()=>{const e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{},attrs:{}};return b(e,n,{enableHardwareAcceleration:!1},t.transformTemplate),{...e.attrs,style:{...e.style}}},[n]);if(t.style){const n={};z(n,t.style,t),e.style={...n,...e.style}}return e}function nt(t=!1){return(n,e,r,o,{latestValues:a},s)=>{const i=(M(n)?tt:Y)(e,a,s),u={...function(t,n,e){const r={};for(const o in t)(Q(o)||!0===e&&J(o)||!n&&!J(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}(e,"string"==typeof n,t),...i,ref:o};return r&&(u["data-projection-id"]=r),l(n,u)}}const et=t=>(n,e)=>{const o=r(F),a=r(m),s=()=>function({scrapeMotionValuesFromProps:t,createRenderState:n,onMount:e},r,o,a){const s={latestValues:rt(r,o,a,t),renderState:n()};return e&&(s.mount=t=>e(r,t,s)),s}(t,n,o,a);return e?s():h(s)};function rt(t,n,e,r){const o={},a=r(t);for(const t in a)o[t]=P(a[t]);let{initial:s,animate:i}=t;const u=y(t),c=T(t);n&&c&&!u&&!1!==t.inherit&&(void 0===s&&(s=n.initial),void 0===i&&(i=n.animate));let l=!!e&&!1===e.initial;l=l||!1===s;const d=l?i:s;if(d&&"boolean"!=typeof d&&!j(d)){(Array.isArray(d)?d:[d]).forEach(n=>{const e=x(t,n);if(!e)return;const{transitionEnd:r,transition:a,...s}=e;for(const t in s){let n=s[t];if(Array.isArray(n)){n=n[l?n.length-1:0]}null!==n&&(o[t]=n)}for(const t in r)o[t]=r[t]})}return o}const ot={useVisualState:et({scrapeMotionValuesFromProps:D,createRenderState:$,onMount:(t,n,{renderState:e,latestValues:r})=>{try{e.dimensions="function"==typeof n.getBBox?n.getBBox():n.getBoundingClientRect()}catch(t){e.dimensions={x:0,y:0,width:0,height:0}}b(e,r,{enableHardwareAcceleration:!1},t.transformTemplate),L(n,e)}})},at={useVisualState:et({scrapeMotionValuesFromProps:B,createRenderState:q})};const st=function(t){function n(n,e={}){return W(t(n,e))}if("undefined"==typeof Proxy)return n;const e=new Map;return new Proxy(n,{get:(t,r)=>(e.has(r)||e.set(r,n(r)),e.get(r))})}((function(t,{forwardMotionProps:n=!1},e,r,o){return{...M(t)?ot:at,preloadedFeatures:e,useRender:nt(n),createVisualElement:r,projectionNodeConstructor:o,Component:t}}));export{st as m};
